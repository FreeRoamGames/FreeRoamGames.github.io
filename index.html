<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <title>VR Skybox Blinken</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        background: black;
      }
    </style>
  </head>
  <body>
    <a-scene>
      <!-- Kamera -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <script>
      const scene = document.querySelector('a-scene');

      function fadeBlinkSky() {
        let i = 0;

        function singleBlink() {
          if (i >= 3) return;

          // Fade to red
          scene.setAttribute('animation__toRed', {
            property: 'background.color',
            to: '#ff0000',
            dur: 200,
            easing: 'easeInOutQuad'
          });

          // Fade back to black after short delay
          setTimeout(() => {
            scene.setAttribute('animation__toBlack', {
              property: 'background.color',
              to: '#000000',
              dur: 400,
              easing: 'easeInOutQuad'
            });
          }, 200);

          i++;
          setTimeout(singleBlink, 600); // 3 Blinks spaced by 600ms
        }

        singleBlink();
      }

      // Trigger every 10 seconds
      setInterval(fadeBlinkSky, 10000);
    </script>
  </body>
</html>
