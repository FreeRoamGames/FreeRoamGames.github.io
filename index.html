<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <title>VR Rotes Blinken</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        background: black;
      }
    </style>
  </head>
  <body>
    <a-scene background="color: black">
      <!-- Kamera -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>

      <!-- Rotes Overlay fÃ¼r Blinken -->
      <a-entity id="blinker" geometry="primitive: plane; height: 2; width: 2"
                material="color: red; opacity: 0; transparent: true"
                position="0 1.6 -1">
      </a-entity>
    </a-scene>

    <script>
      const blinker = document.getElementById('blinker');

      function fadeBlink() {
        let i = 0;

        function blink() {
          if (i >= 3) return;

          // Fade in
          blinker.setAttribute('animation__fadein', {
            property: 'material.opacity',
            to: 0.8,
            dur: 150,
            easing: 'easeInOutQuad'
          });

          // Fade out after 150ms
          setTimeout(() => {
            blinker.setAttribute('animation__fadeout', {
              property: 'material.opacity',
              to: 0,
              dur: 300,
              easing: 'easeInOutQuad'
            });
          }, 150);

          i++;
          setTimeout(blink, 500); // Next blink in 0.5s
        }

        blink();
      }

      // Start blinking every 10 seconds
      setInterval(fadeBlink, 10000);
    </script>
  </body>
</html>
